## ターミナルで遭難しないための Tips

覚えておいたほうが絶対に幸せになれると思われるキーボード操作を表にしておきます．

### カーソル移動

カーソル位置は ++arrow-left++ と ++arrow-right++ で移動できますが，これを覚えておくと行頭と行末への移動が一瞬です．

| タイプ | 機能 |
| --- | --- |
| ++ctrl+a++ | 行頭まで移動 |
| ++ctrl+e++ | 行末まで移動 |

### コピペ

| タイプ | 機能 |
| --- | --- |
| ++ctrl+k++ | カーソル位置から行末まで切り取り |
| ++ctrl+u++ | 行頭からカーソル位置まで切り取り |
| ++ctrl+y++ | 最後の切り取り文字を貼り付け |

### 履歴

同じコマンドを何度も手打ちする必要はありません．

| タイプ | 機能 |
| --- | --- |
| ++arrow-up++ または ++ctrl+p++ | 行を一つ前のコマンド履歴に置き換え |
| ++arrow-down++ または ++ctrl+n++ | 行を一つ後のコマンド履歴に置き換え |

### その他

| タイプ | 機能 |
| --- | --- |
| ++ctrl+c++ | 実行中のコマンドを強制終了 |
| ++tab++ | 入力補完 |

## 頻出するシェル文法

### リダイレクション

!!! note "リダイレクション"
    ``` bash title="書式"
    コマンド > ファイル名
    ```
    `コマンド` の実行結果の出力先を標準出力から `ファイル名` に変更します．ファイル書き込みの権限は `コマンド` に `sudo` を付与していた場合でも元のユーザー権限が適用されます．

### パイプ

!!! note "パイプ"
    ``` bash title="書式"
    コマンド1 | コマンド2 | コマンド3
    ```
    `コマンド1` の標準出力を `コマンド2` の標準入力へ繋げます．ふたつのコマンドだけでなく任意の数のコマンドを順次繋げていくことができます．パイプ後の各々のコマンドは全てカレントシェルから派生する独立したサブシェルで実行されます．

### 括弧

!!! note "$()"
    - 書式：`$(コマンド)`
    - 意味：`コマンド` の実行結果を文字列として展開する

!!! note "${}"
    - 書式：`${変数}`
    - 意味：`変数` の値を文字列として展開する

### クォーテーション

!!! note "バッククォート"
    - バッククォートで囲まれた文字列をコマンドとして実行した結果を文字列として展開する
    - バッククォートの中でバッククォートは利用できないので注意

!!! note "ダブルクォート"
    ダブルクォートで囲まれた文字列のうち，`$`，バッククォート，バックスラッシュのみを解釈し，それ以外をエスケープした文字列を得る

!!! note "シングルクォート"
    シングルクォートで囲まれた文字列全てをエスケープした文字列を得る

### 条件分岐

!!! note "AND"
    ``` bash title="書式"
    コマンド1 && コマンド2
    ```
    コマンド1が成功した場合のみ，コマンド2を実行する

!!! note "OR"
    ``` bash title="書式"
    コマンド1 || コマンド2
    ```
    コマンド1が失敗した場合のみ，コマンド2を実行する

## よく使うコマンドたち

ls

cd

mkdir

rmdir

mv

rm

cp

echo

cat

touch

tee

pwd

### pstree

`pstree [option] [プロセスID or ユーザ名]`

| オプション | 意味 |
| --- | --- |
| `-p` | プロセス ID を表示する |
| `-s` | プロセス ID が指定されている場合，指定したプロセスの親を表示する |
| `-U` | 罫線に UTF-8 文字を利用する |